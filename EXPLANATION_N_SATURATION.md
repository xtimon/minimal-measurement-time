# Объяснение: Почему время измерения падает и стабилизируется после N = 10^5

## Проблема

После количества частиц N ≈ 10^5 время измерения начинает падать и остается стабильным при дальнейшем увеличении N.

## Причина

### 1. Формула gamma_base

Время измерения зависит от фактора сложности `gamma_base`, который рассчитывается по формуле:

```python
gamma_base = 1 + numerator / denominator

где:
numerator = GAMMA_BASE_COEFF * (T_c/T)^1.5 * log(1 + N / N_LOG_DIVISOR)
denominator = 1 + (N / N_Q)^4
```

**Константы:**
- `N_Q = 1e6 = 10^6` (порог насыщения)
- `N_LOG_DIVISOR = 1000`
- `GAMMA_BASE_COEFF = 0.95`

### 2. Механизм насыщения

**При малых N (N << N_Q):**
- Знаменатель ≈ 1
- `gamma_base ≈ 1 + numerator` (растет логарифмически с N)
- Время измерения растет с увеличением N

**При средних N (N ~ 10^5):**
- Знаменатель начинает расти: `1 + (10^5/10^6)^4 = 1 + 0.1^4 = 1.0001`
- Эффект еще слабый, но уже заметен
- `gamma_base` начинает медленно уменьшаться

**При больших N (N ≥ N_Q = 10^6):**
- Знаменатель быстро растет: `1 + (N/10^6)^4`
- При N = 10^6: знаменатель = 2
- При N = 10^7: знаменатель = 1 + 10^4 = 10001
- `gamma_base → 1` (насыщение)

### 3. Почему время падает после 10^5?

Хотя формальный порог насыщения `N_Q = 10^6`, эффект начинает проявляться раньше:

1. **Логарифмический рост числителя** замедляется при больших N
2. **Знаменатель начинает влиять** уже при N ~ 10^5 (хотя и слабо)
3. **Комбинированный эффект**: при N > 10^5 рост числителя замедляется, а знаменатель начинает расти, что приводит к уменьшению `gamma_base`

### 4. Стабилизация времени

При очень больших N (N >> N_Q):

- `gamma_base → 1` (полное насыщение)
- Вклад `gamma_base` в общее время становится минимальным
- Начинают доминировать другие факторы:
  - **Время детектора**: растет как `log(N)` (медленно)
  - **Технические ограничения**: константы
  - **Предел Ландауэра**: константа

Поэтому общее время измерения стабилизируется на уровне этих константных и медленно растущих компонентов.

## Математическая иллюстрация

```
При N = 10^5:
  numerator ≈ 0.95 * (T_c/T)^1.5 * log(1 + 100) ≈ 0.95 * log(101) ≈ 4.5
  denominator = 1 + (0.1)^4 = 1.0001
  gamma_base ≈ 1 + 4.5/1.0001 ≈ 5.5

При N = 10^6:
  numerator ≈ 0.95 * (T_c/T)^1.5 * log(1 + 1000) ≈ 0.95 * log(1001) ≈ 6.6
  denominator = 1 + (1)^4 = 2
  gamma_base ≈ 1 + 6.6/2 ≈ 4.3  ← УМЕНЬШИЛСЯ!

При N = 10^7:
  numerator ≈ 0.95 * (T_c/T)^1.5 * log(1 + 10000) ≈ 0.95 * log(10001) ≈ 8.7
  denominator = 1 + (10)^4 = 10001
  gamma_base ≈ 1 + 8.7/10001 ≈ 1.001  ← ПОЧТИ НАСЫЩЕН
```

## Физический смысл

Формула моделирует **насыщение сложности системы** при больших N:

- При малых N: каждая дополнительная частица увеличивает сложность
- При больших N: система становится "классической", дополнительная сложность насыщается
- Это соответствует переходу от квантового к классическому поведению в больших системах

## Рекомендации

Если нужно, чтобы время измерения продолжало расти с N (или хотя бы не падало), можно:

1. **Увеличить N_Q**: изменить `DEFAULT_N_Q` с 1e6 на большее значение (например, 1e8)
2. **Изменить степень насыщения**: заменить `(N/N_Q)^4` на `(N/N_Q)^2` для более плавного насыщения
3. **Убрать насыщение**: использовать только логарифмическую зависимость без знаменателя

Однако текущая формула физически обоснована: большие системы действительно демонстрируют насыщение сложности.

